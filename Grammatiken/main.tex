\usetikzlibrary{trees}
\coversection{Automaten/finit1.png}{Formale Grammatiken}{\\ \hspace*{\fill} - ChatGPT}
\paragraph*{Idee:} Konstruktion aller Wörter einer Sprache.
\paragraph*{Beispiel:} 
\begin{itemize}
    \renewcommand{\labelitemi}{} % Remove bullet point

    \item \(L=\{0^n\}_{n\in\mathbb{N}_0}\)
    \item S Startsymbol
    \item \(S\to \lambda, \ S\to 0S\) Regel \( \quad (S, \lambda), (S, 0S)\)
    \item \(S\to 0S\to 00S\to 000S\to 000\)


\end{itemize}
\mysubsection{Definition (Grammatiken)}
    Eine Grammatik ist ien Tupel \(G=(N,T,P,S)\). Dabei ist 
    \begin{itemize}
        \item N das Alphabet der \textbf{Nichtterminalsymbole/Variablen} 
        \item T das Alphabet der \textbf{Terminalsymbole} mit \(N\cup T=\varnothing \)
        \item \(P\subseteq((N\cup T)^*\backslash T^*)\times (N\cup T)^*\) eine endliche Menge von \textbf{Regeln/Produktionen}, wobei wir für ein Paar \((u, v) \in P\) auch \( u \to v\) schreiben.
        \item \(S\in\mathbb{N}\) das \textbf{Startsymbol}
    \end{itemize}
    Eine \textbf{Satzform} von G ist ein Wort \(s\in(N\cup T)^*\) und eine \textbf{Terminalwort} von G ist ein Wort \(t\in T^*\).
\mysubsection{Definition (Ableitung)}
    Sei \(G=(N,T,P,S)\) eine Grammatik. Eine Satzform \(w'\) von G ist in einem Schritt aus einer Satzform w von G \textbf{ableitbar}, wenn es Satzformen u,v,x,y von G gibt, so dass \(w=xuy,u\to v\in P\) und \(w'=xvy\) gelten. Es bezeichne \(\to_G\) die Relation auf der Menge der Satzformen von G, sodass \(w\to_Gw'\) genau dann für Satzformen von G gilt, wenn w' aus w in einem Schritt ableitbar ist.\\
    Für Satzformen u,v von G ist eine \textbf{Ableitung} von v aus u eine Folge \(u=w_1,\cdots,w_n=v\) mit \(w_i\to_Gw_{i+1}\) \(\forall i\in[n-1]\) und eine Ableitung von v in G ist eine \textbf{Ableitung} von v aus S in G. Für \(n\in\mathbb{N}\) schreiben wir \(u\to^n_Gv\) wenn es eine Ableitung von $v$ aus $u$ der Länge $n$ gibt und wir schreiben \(u\to^*_Gv\) wenn eine Ableitung von v aus u in G existiert.\\\\
    \textit{Erklärung:}\\
    Stell dir vor, du möchtest ein Rezept zum Backen von Kuchen haben. Das Rezept besteht aus verschiedenen Schritten, wie zum Beispiel das Mischen der Zutaten und das Backen im Ofen. In ähnlicher Weise kann man sich eine Grammatik vorstellen, die Regeln für den Aufbau von Sätzen in einer Sprache festlegt.
    Nehmen wir an, du hast eine Grammatik namens G, die aus Buchstaben (N) und Wörtern (T) besteht. Diese Grammatik hat auch Regeln (P) und einen Startpunkt (S). Eine Satzform ist ein Satz, der in der Grammatik G gebildet werden kann.
    Jetzt stellen wir uns vor, du hast einen Satz, den wir als "w" bezeichnen. Du möchtest einen anderen Satz, "w'", in einem Schritt aus dem Satz "w" ableiten. Das bedeutet, dass es bestimmte Regeln gibt, die angewendet werden können, um von "w" zu "w'" zu gelangen. Man kann sich das wie einen Schritt in einem Rezept vorstellen, bei dem man eine Zutat durch eine andere ersetzt oder sie anders kombiniert.
    Eine Ableitung ist eine Folge von Schritten, bei der man von einem Satz "u" zu einem anderen Satz "v" gelangt. Jeder Schritt in der Ableitung wird durch eine Regel aus der Grammatik G dargestellt. Eine Ableitung von "v" in G ist eine Ableitung von "v" ausgehend vom Startpunkt "S" in G.
    %Um die Länge einer Ableitung anzugeben, verwenden wir die Zahl "n". Wenn wir schreiben "u ->^n_G v", bedeutet das, dass es eine Ableitung von "v" aus "u" gibt, die aus genau "n" Schritten besteht. Wenn wir schreiben "u ->^*_G v", bedeutet das, dass es eine Ableitung von "v" aus "u" in G gibt.
    
    
\mysubsection{Definition (Erzeugte Sprache)}
    Sei \(G=(N,T,P,S)\) eine Grammatik. Die von G erzeugte Sprache \(L(G)\) ist die Menge aller Wörter \(w\in T^*\) für die es eine Ableitung von w in G gibt.
\mysubsection{Lemma} 
    Sei \(G=(N,T,P,S)\) eine Grammatik und seien u,v,x,y Satzformen von G und seien \(n,m\in\mathbb{N}\) mit \(u\to_G^nv\) und \(w\to_u^nxuy\).\\
    Dann gilt \(w\to_u^{m+n-1}xvy\).
\begin{proof}
    Sei \(\alpha _1,\cdots,\alpha_n\) ein Ableitung von xuy aus w und \(\beta_1,\cdots,\beta_m\) eine Ableitung von v aus u. Dann ist\\ 
    \(\alpha_1,\cdots,\alpha_{n-1},x\beta_1y,\cdots,x\beta_my=xvy\)\\
    eine Ableitung von xvy aus w in G der Länge n+m-1.\par\bigskip
    Im folgenden beschäftigen wir uns mit dem Thema welche Sprache Grammatiken verschiedener Komplexitätsstufen erzeugen können.
\end{proof}

\mysubsection{Satz}
    Eine Sprache ist genau dann rekuriv aufzählbar, wenn sie von einer Grammatik erzeugt wird.
\paragraph*{Beweisidee} 
    Wird eine Sprache $L$ von einer Grammatik erzeugt, so ist $L$ die erkannte Sprache einer TM, die in geeigneter Weise Ableitungen von $G$ erzeugt, prüft ob diese Ableitung dem Wort der Eingabe entspricht und gegebenfalss akzeptiert. Wenn eine Ableitung der Eingabe gefunden ist.\par\bigskip
    Gegeben eine rekursiv aufzählbare Sprace $L$ und eine TM, die $L$ erkennt. So konstruieren wir ähnlich dem Postschen Korrespondenzproblems Regeln und Symobole, sodass wir die Arbeitsweise der TM modellieren können und entsprechend mit einem Terminalwort enden wenn dies von der TM erkannt wird.
\mysubsection{Rechtslinear}
    Eine Grammatik \(G=(N,T,P,S)\) ist rechtslinear, wenn alle Regeln von der Form 
    \[X\in uy \text{ oder } X\to u\]
    mit \(X,y\in\mathbb{N}\) und \(u\in T^*\) sind.\par\bigskip 
    Hier ist es sinnvoll endliche Automaten zu betrachten bei denen es nicht \(\forall\) Zustände q und Eingabesymbole a ein Tripel \((q,a,q')\) in der Übergangsrelation geben muss. Solche Automaten sind zwangsläufig nicht deterministisch.
\mysubsection{Satz}
    Eine Sprache ist genu dann regulär, wenn sie von einer rechtslinearen Grammatik erzeugt wird.
\paragraph*{Beweisidee}
    Zunächst überzeugt man sich davon, dass eine Sprache L genau dann von einer rechtlinearen Grammatik erzeugt wird, wenn sie von einer Grammatik \(G=(N,T,P,S)\) erzeugt wird bei der alle Regeln von der Form \(X\to ay\) oder \(X\to \lambda\)\\
    mit \(x,y\in\mathbb{N}\) und \(a\in T\) sind. Eine Solche Grammatik wird als Grammatik in Simulationsform bezeichnet.\par\bigskip
    Die Sprache L die von einer rechtslinearen Grammatik (in Simulationsform) gebildet wird von dem EA 
    \[
        A=(N,T,\Delta,S,\{X\in N: X\to \lambda\in P\})
    \]
    mit 
    \[
        \Delta=\{(X,a,y)\in N\times T\times N:X\to ay\in P\}
    \]
    erkannt.\\
    Umgekehrt ist es einfach zu sehen, dass jede Reguläre Sprace von einer rechtslinearen Grammatik erzeugt wird. 

\mysubsection{Beispiel}
    Die Sprache \(\{0\}^*\) wird von der rechtlinearen Grammatik \[ G = (\{S\},\ \{0,\ 1\}^*,\ \{S \to 0S,\ S \to \lambda\},\ S)\] erzeugt von EA \[A = (\{S\},\ \{0,\ 1\}^*,\ \{(S,\ 0,\ S)\},\ S, \{S\})\] erkannt. Sowohl auf der Seite der Machinenmodelle als auch auf der Seite der Grammatiken gibt es weitere wichtige Sprachklassen, die sich ergeben wenn der Maschinenarbeitsweise oder Menge der zulässigen Regeln weniger stark eingeschränkt wird bei EA und rechtslinear Grammatiken.

\mysubsection{Definition (kontextfrei)} 
    Eine Grammatik \(G = (N,\ T,\ P,\ S)\) von der From \[X \to w\] mit \(X \in N\) und \(w \in (N \cup T)^*\) sind. Eine Sprache ist \textbf{kontextfrei}, wenn sie von einer Kontextfreien Grammatik erzeugt wird. Die Menge aller kontextfreien Sprachen bezeichnen wir mit \textbf{CF}.

\mysubsection{Definition (lexikographische Ordnung)}
    Sei \(\Sigma \) ein Alphabet. Die \textbf{lexikographische Ordnung} aud \(\Sigma^*\) ist die lineare Ordnung \(leq\) aud \(\Sigma^*\) für doe \(u \leq v\) für \(u, v \in \Sigma^*\) genau dann gilt wenn eine der folgenden Bedingungen erfüllt ist.
    \begin{itemize}
        \item [(L1)] \( u \sqsubseteq v\).
        \item [(L2)] Es gibt ein \(i \in [min \{|u|, |v|\}] \) mit \( u(j) = v (j) \quad \forall j \in [i - 1]\) und \(u (i) \not = v (i)\) und \(u (i) \leq v(i)\) für eine gebildete, lineare Ordung \(\leq\) auf \(\Sigma\)
    \end{itemize}
    Schreiben wir \(\leq\) für eine lineare Ordnung, so bedeutet \(u < v\) für Elemente \(u, v\), dass \(u \leq v\) und \(u \not = v\) gelten.\\\\ Vetrachte \(G = (\{S, X\}, \{0, 1\}, P, S)\) mit \[P = \{S \to XX,\ X \to 0X1,\ X \to \lambda\}\] 
    
    \newpage
    Betrachte Ableitung \(S,\ XX, X0X1,\ 0x10x1,\ 0X101,\ 00X1101,\ 001101\)

    \vspace{1cm}
    \begin{center}
        \begin{tikzpicture}[level distance=2cm,
            level 1/.style={sibling distance=5cm},
            level 2/.style={sibling distance=2cm}]
            
            \node {S}
            child 
            {
                node {X}
                child{node {0}}
                child 
                {
                    node {X}
                    child {node {0}}
                    child 
                    {
                        node{X}
                        child{node {$\lambda$}}
                    }
                    child{node {1}}
                }
                child {node {1}}
              }
              child 
              {
                node {X}
                child 
                {
                    node {0}
                }
                child 
                {
                    node {X}
                    child 
                    {
                        node {$\lambda$}
                    }
                }
                child 
                {
                    node {1}
                }
            };
              
            \node[right=1cm] at (current bounding box.east) 
            {
                \begin{minipage}{6cm}
                    \begin{itemize}
                        \item oben Wurzel
                        \item die Ordnung der Knoten/ Ecken ist wichtig
                        \item Knoten/ Ecken haben Beschriftungen
                    \end{itemize}
                \end{minipage}
            };
        \end{tikzpicture}
    \end{center}
    \createDiagram{Satz-Baum}{ }
    \begin{center}
        \begin{tikzpicture}[level distance=2cm,
            level 1/.style={sibling distance=5cm},
            level 2/.style={sibling distance=2cm}]
            
            \node {$\lambda$}
            child 
            {
                node {1}
                child{node {11}
                    child{node {111}}
                    child{node {112}}
                }
                child{node {12}}
            }
            child 
            {
                node {2}
                child{node {21}}
            }
            child 
            {
                node {3}
                child{node {31}}
                child{node {32}}
                child{node {33}}
            };
            
        \end{tikzpicture}
    \end{center}
    \createDiagram{Satz-Baum}{ }
    \begin{itemize}
        \item Abbildung 12 repräsentiert die Sprache $T = \{\lambda, 1, 2, 3, 11, 12, 21, 31, 32, 33, 111, 112\}$.
        \item Der Wurzelknoten ist $\lambda$.
        \item Die Reihenfolge ist lexikographisch.
    \end{itemize}
    
\mysubsection{Definition (Baum)} 
    Eine endliche nicht leere Sprache T heißt \textbf{Baum}, wenn sie unter Präfixbildung abgeschlossen ist, also wenn für alle \(w \in T\) und \(p \sqsubseteq w\) auch \(p \in T\) gilt. Ein Wort \(w \in T\) heißt \textbf{Blatt} von T, wenn w bezüglich \(\sqsubseteq \) maximal in T istm also wenn \(w = w' \quad \forall w' \in T\) mit \(w \sqsubseteq w'\) gilt. Wörter \(w \in T\), die keine Blätter von T sind heißen \textbf{innere Ecken} von T.

\mysubsection{Lemma}
    Sei \(\Sigma\) eine Alphabet und \(\leq\) lie lexikographische Ordnung auf \(\Sigma^*\). Seien \(u, w \in \Sigma^*\) mit \(u \not \sqsubseteq w\) und \(u \leq w\). Seien \(v_1<\cdots<v_n \in \Sigma^*\) mit \(v_1 \not = \lambda\). Dann gilt \(u < u v_1< \cdots < uv_n < w\)

    \[HIER ABB EINFÜGEN\]
    \createDiagram{}{}

    \begin{proof}
        Für \(v, v' \in \Sigma^*\) mit \(v \leq v'\) gilt offenba \(uv \leq uv'\)m es genügt also zu zeigen, dass \(uv \leq w \quad \forall v \in \Sigma^*\) gilt. Wegen \(u \not \sqsubseteq w\) existiert \(i \in [min \{|u|, |w|\}]\) mit \(u(j) = w(j) \quad \forall j \in [i-1]\) und \(u(i) < w(i)\). Für \(v \in \Sigma^*\) gilt dann \((uv)(j)=w(j) \quad \forall j \in [i - 1]\) und \((uv)(j)<w(i)\), also \(uv < w\).
    \end{proof}

\mysubsection{Lemma}
    Sei T ein Baum, \(\leq\) die lexikographische Ordnung auf T, \(p \in T\) und \(Q:=\{w\in T: p\sqsubseteq w\}\). Es gelten \(p = min Q\) und \(Q = \{w \in T : min Q \leq w \leq max \leq max Q\}\). 

    \[HIER ABB EINFÜGEN\]
    \createDiagram{}{}

    \begin{proof}
        Offensichtlich gilt \(p = min Q\). Für \(w \in Q\) gilt \(min Q \leq w \leq max Q\) nach Definition von min Q und max Q. Für \(w \not \in Q\) mit \(w \sqsubseteq w' \quad \forall w' \in Q\), also \(w < min Q\). Für \(w \not \in Q\) mit \(w \not \sqsubseteq p \quad \exists i \in [min {|p|, |w|}]\) mit \(w(i) \not = p(i)\), insbesondere existiert also ein minimales solches i und nach Definition von \(\leq\) folgt damit \(w \leq w' \quad \forall w'\in Q\) oder \(w' \leq w \quad w' \in Q\), insbesondere also wegen \( w \not \in Q\) somit \( w < min \ Q\) oder \(max \ Q < w\).
    \end{proof}

\mysubsection{Definition (Beschrftung)} 
    Eine \textbf{Beschrftung} eines Baumes T mit Elementen einer Menge X ist eine Funktion \(b: T \to X\).

\mysubsection{Definition (Blattwort)}
    Sei \(\Sigma\) eine ALphabet, sei (T,b) ein Paar aus einem Baum T und einer Beschrifung \(b: T \to \Sigma \cup \{\lambda\}\) und sei \(t_1, \cdots, t_n\) dieFolge der Blätter von T in lexikographischer Reihenfolge. Das \textbf{Blattwort} von (T, b) ist \(b(t_1) \cdot b(t_n)\). Blattwort: 001101 \[HIER ABB EINFÜGEN\] 
    \createDiagram{}{}

\mysubsection{Definition (Ableitungsbaum)} 
    Sei \(G = (N,\ T,\ P,\ S)\) eine kontextfreie Grammatik und sei \(d:= max (\{|w|: x \to w \in P\} \cup \{1\})\). Ein \textbf{Ableitungsbaum} einer Satzform \(w \in (N \cup T)^*\) aus \(A \in N\) ind G ist ein paar (T, b) aus einem Baum \(T \subseteq [d]^*\) und einer Beschriftung \(b: T \to N \cup T \cup {\lambda}\) mit \(b(\lambda) = A\) und Blattwort w, so dass für alle inneren Ecken t von T eine Regel \(C \to v \in P\) existiert, so dass folgendes gilt.
    \begin{itemize}
        \item [(i)] \(b(t) = X\)
        \item [(ii)] \(\{t' \in T : t \sqsubseteq t' \text{ und } |t'| = |t| + 1\} = \{ta : a \in max \{|v|, 1\}\}\)
        \item [(iii)] \(b(ta) = v(a) \quad \forall a \in [|v|]\)
        \item [(iv)] \(b(t1) = \lambda \text{ falls } v = \lambda\)
    \end{itemize}
    Die \textbf{Blätter} von (T, b) sind die Blätter von T und die \textbf{inneren Ecken} von (T, b) sind die inneren Ecken von T.

\mysubsection{Beispiel}     
    Sei \(G = (\{S\},\ \{0,\ 1\},\ \{S \to 0S1,\ S \to \lambda\},\ S),\ T = \{\lambda,\ 1,\ 2,\ 3,\ 21,\ 22,\ 23,\ 221\}\) und sei \(b:T\to\{S,\ 0,\ 1,\ \lambda\}\) die Beschriftung mit \(b(\lambda) = b(2) = b(22) = S,\ b(1) = b(21) = 0\) und \(b(221) = \lambda\). Dann ist (T, b) ein Ableitungsbaum von 0011 aus S un G. Die \textbf{Darstellung} von T sieht wi folgt aus: \[HIERABBEINFÜGEN\]
    \createDiagram{Darstellung von T}{}

    \[Visualisierung 1 + 2 \]
    \createDiagram{Colorization}{}

\mysubsection{Satz (Pumping-Lemma für kontextfreie Sprachen)}
    Sei \(Sigma\) ein Alphabet. Für jede kontextfreie Sprache \(L \subseteq \Sigma^*\) gibt es eine Konstante \(\in \mathbb{N}\), so dass folgendes gilt:\\ Ist \(z \in L\) mit \(|z| \geq k\), so gibt es Wörter \(u, v, w, x, y \in \Sigma^*\) mit \(z = uvwxy\), so dass folgendes gilt.
    \begin{itemize}
        \item [(i)] \(vx \not = \lambda\)
        \item [(ii)]\(|vwx| \leq k\)
    \end{itemize}